import jieba
from math import *

txt = open("./4.2.txt", "r", encoding='utf-8').read()
words = jieba.lcut(txt)  # ä½¿ç”¨ç²¾ç¡®æ¨¡å¼å¯¹æ–‡æœ¬è¿›è¡Œåˆ†è¯
counts = {}  # é€šè¿‡é”®å€¼å¯¹çš„å½¢å¼å­˜å‚¨è¯è¯­åŠå…¶å‡ºç°çš„æ¬¡æ•°

# for word in words:
#     if word=="ä»‡æ¨" or word=="å¿ƒæ€¥å¦‚ç„š" or word=="æ–¹å¯¸å¤§ä¹±" or word=="æ— è¯­" or word=="æˆ‘é ":
#         counts[0]=counts.get(0,0)+1
#     if word=="å¯’å¿ƒ" or word=="å¤±æœ›" or word=="ç”Ÿæ°”":
#         counts[1]=counts.get(1,0)+1
#     if word=="æ„¤æ€’" or word=="çªç«" or word=="ææ…Œ" or word=="å®³äººå®³å·±" or word=="å¹æ°”" or word=="":
#         counts[2]=counts.get(2,0)+1
#     if word=="æ‚²ä¼¤"  or word=="å¿ƒç—›"  or word=="æƒŠå¿ƒåŠ¨é­„"  or word=="éš¾å—"  or word=="å®³æ€•"  or word=="æ²‰é‡"  or word=="å“äºº" or word=="åˆ»ä¸å®¹ç¼“":
#         counts[3]=counts.get(3,0)+1
#     if word=="å¿ƒé…¸"  or word=="æƒ¨ç„¶"  or word=="è´¹è§£"  or word=="ææ…Œ"  or word=="å±é™©"  or word=="ç´§è¿«"  or word=="ä¸¥å³»" or word=="å‘Šæ€¥" or word=="ææ…Œ" or word=="æƒ¶æ" :
#         counts[4]=counts.get(4,0)+1
#     if word=="å¿§è™‘"  or word=="æ‹…å¿ƒ"  or word=="ç„¦è™‘"  or word=="åšå†³"  or word=="å¥‡æ€ª" :
#         counts[5]=counts.get(5,0)+1
#     if word=="ç¥ç¦"  or word=="å¹³é™"  or word=="å¿ƒå®‰"  or word=="ç¨³å®š"  or word=="è¸å®"  or word=="å®‰å¿ƒ"  or word=="æ„Ÿè°¢":
#         counts[6]=counts.get(6,0)+1
#     if word=="åŠ æ²¹"  or word=="æŒ¯ä½œ"  or word=="æŒ¯å¥‹"  or word=="åŠ æ²¹"  or word==""  or word=="ç§¯æ":
#         counts[7]=counts.get(7,0)+1
#     if word=="å¼€å¿ƒ"  or word=="å¿«ä¹"  or word=="æ¿€åŠ¨"  or word=="å¹¸å¥½"  or word=="æ„ŸåŠ¨"  or word=="" :
#         counts[8]=counts.get(8,0)+1
#     if word=="å¹¸ç¦":
#         counts[9]=counts.get(9,0)+1
#     if word=="éª„å‚²":
#         counts[10]=counts.get(10,0)+1
#     if word=="é«˜å…´":
#         counts[word] = counts.get(word, 0) + 1
#     if word=="åŠ æ²¹":
#         counts[word] = counts.get(word, 0) + 1
#     if word == "æ¸©æš–":
#         counts[word] = counts.get(word, 0) + 1
#     if word=="åŠ æ²¹":
#         counts[word] = counts.get(word, 0) + 1
#     if word == "ğŸ¤®":
#         counts[word] = counts.get(word, 0) + 1
#     if word == "":
#         counts[word] = counts.get(word, 0) + 1
#     if word == "":
#         counts[word] = counts.get(word, 0) + 1
#
#     # "# éå†æ‰€æœ‰è¯è¯­ï¼Œæ¯å‡ºç°ä¸€æ¬¡å…¶å¯¹åº”çš„å€¼åŠ  1
for word in words:
    if len(word) == 1:
        continue
    else:
        counts[word] = counts.get(word, 0) + 1

items = list(counts.items())  # å°†é”®å€¼å¯¹è½¬æ¢æˆåˆ—è¡¨
items.sort(key=lambda x: x[1], reverse=True)  # æ ¹æ®è¯è¯­å‡ºç°çš„æ¬¡æ•°è¿›è¡Œä»å¤§åˆ°å°æ’åº


sum=0
for k in range(len(items)):
    word,count=items[k]
    sum+=count
print(sum)


coment=0
for i in range(50):
    word, count = items[i]
    if(word=="æ¥è‡ª"):
        coment=counts[word]
for i in range(50):
    word, count = items[i]

    print("{0:<5}{1:>5}".format(word, count)+"  TF:"+str(count/sum)+"  IDF:"+str(log(coment/count,2)))
